<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø³Ù„Ø§Ù…ØªÙƒ Ø§Ù„Ø±Ù‚Ù…ÙŠØ© ÙÙŠ Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª</title>
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #4158D0 0%, #C850C0 100%);
            --secondary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --purple: #9333ea;
            --blue: #3b82f6;
            --orange: #f97316;
            --green: #22c55e;
            --cyan: #06b6d4;
            --pink: #ec4899;
            --bg-start: #0f172a;
            --bg-end: #1e3a8a;
            --card-bg: rgba(255, 255, 255, 0.95);
            --text-primary: #1f2937;
            --text-secondary: #6b7280;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, var(--bg-start) 0%, var(--bg-end) 100%);
            min-height: 100vh;
            color: var(--text-primary);
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            padding-bottom: 80px;
        }

        .header {
            text-align: center;
            padding: 40px 20px;
            color: white;
        }

        .logo {
            width: 100px;
            height: 100px;
            margin: 0 auto 20px;
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            border-radius: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 8px 32px rgba(16, 185, 129, 0.3);
        }

        .logo svg {
            width: 60px;
            height: 60px;
            fill: white;
        }

        h1 {
            font-size: 2rem;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .welcome-screen {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 80vh;
            text-align: center;
            color: white;
        }

        .features-list {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
            text-align: right;
            max-width: 500px;
        }

        .feature-item {
            display: flex;
            align-items: center;
            justify-content: flex-end;
            gap: 15px;
            padding: 15px 0;
            font-size: 1.1rem;
        }

        .feature-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            flex-shrink: 0;
        }

        .start-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 18px 60px;
            font-size: 1.2rem;
            border-radius: 15px;
            cursor: pointer;
            margin-top: 30px;
            box-shadow: 0 8px 32px rgba(102, 126, 234, 0.3);
            transition: transform 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .start-btn:hover {
            transform: translateY(-2px);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .stat-card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 25px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .stat-info {
            text-align: right;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .stat-label {
            color: var(--text-secondary);
            font-size: 1rem;
        }

        .stat-icon {
            width: 70px;
            height: 70px;
            border-radius: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .tip-card {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border-radius: 20px;
            padding: 20px;
            display: flex;
            align-items: flex-start;
            gap: 15px;
            margin: 30px 0;
        }

        .tip-icon {
            width: 50px;
            height: 50px;
            background: #f59e0b;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .tip-content h3 {
            color: #92400e;
            margin-bottom: 8px;
            font-size: 1.1rem;
        }

        .tip-content p {
            color: #78350f;
            line-height: 1.6;
        }

        .lessons-section {
            margin: 40px 0;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            color: white;
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: 700;
        }

        .view-all-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .lessons-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .lesson-card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 0;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }

        .lesson-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
        }

        .lesson-header {
            padding: 25px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .lesson-icon {
            width: 60px;
            height: 60px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .lesson-info {
            flex: 1;
            text-align: right;
            margin-right: 15px;
        }

        .lesson-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .lesson-duration {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .lesson-progress {
            padding: 0 25px 25px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e5e7eb;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #10b981 0%, #059669 100%);
            border-radius: 10px;
            transition: width 0.3s;
        }

        .progress-text {
            display: flex;
            justify-content: space-between;
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1);
            padding: 10px 0;
            z-index: 1000;
        }

        .nav-container {
            max-width: 600px;
            margin: 0 auto;
            display: flex;
            justify-content: space-around;
            align-items: center;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            padding: 8px 20px;
            cursor: pointer;
            color: var(--text-secondary);
            transition: color 0.3s;
            border: none;
            background: none;
            min-width: 80px;
        }

        .nav-item.active {
            color: #667eea;
        }

        .nav-icon {
            width: 24px;
            height: 24px;
        }

        .nav-label {
            font-size: 0.75rem;
        }

        .quiz-container {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 30px;
            margin: 20px 0;
        }

        .question-card {
            margin-bottom: 30px;
        }

        .question-text {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: var(--text-primary);
        }

        .answer-option {
            background: #f3f4f6;
            border: 2px solid transparent;
            border-radius: 12px;
            padding: 15px 20px;
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: right;
        }

        .answer-option:hover {
            background: #e5e7eb;
        }

        .answer-option.selected {
            border-color: #667eea;
            background: #ede9fe;
        }

        .answer-option.correct {
            border-color: var(--success);
            background: #d1fae5;
        }

        .answer-option.incorrect {
            border-color: var(--danger);
            background: #fee2e2;
        }

        .submit-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.1rem;
            border-radius: 12px;
            cursor: pointer;
            width: 100%;
            margin-top: 20px;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .submit-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .result-card {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            margin: 20px 0;
        }

        .result-score {
            font-size: 4rem;
            font-weight: 700;
            margin: 20px 0;
        }

        .result-message {
            font-size: 1.3rem;
            margin-bottom: 30px;
        }

        .tools-grid {
            display: grid;
            gap: 20px;
            margin: 20px 0;
        }

        .tool-card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 25px;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .tool-card:hover {
            transform: translateY(-3px);
        }

        .tool-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 15px;
        }

        .tool-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .tool-title {
            font-size: 1.2rem;
            font-weight: 600;
            text-align: right;
            flex: 1;
            margin-right: 15px;
        }

        .tool-description {
            color: var(--text-secondary);
            line-height: 1.6;
            text-align: right;
        }

        .reporting-section {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 25px;
            margin: 20px 0;
        }

        .authority-card {
            border: 2px solid #e5e7eb;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
        }

        .authority-name {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--text-primary);
        }

        .contact-info {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .contact-item {
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--text-secondary);
            text-decoration: none;
        }

        .settings-card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 25px;
            margin: 20px 0;
        }

        .setting-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #e5e7eb;
        }

        .setting-item:last-child {
            border-bottom: none;
        }

        .toggle-switch {
            position: relative;
            width: 50px;
            height: 26px;
            background: #d1d5db;
            border-radius: 13px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .toggle-switch.active {
            background: #10b981;
        }

        .toggle-switch::after {
            content: '';
            position: absolute;
            width: 22px;
            height: 22px;
            border-radius: 50%;
            background: white;
            top: 2px;
            right: 2px;
            transition: transform 0.3s;
        }

        .toggle-switch.active::after {
            transform: translateX(-24px);
        }

        .hidden {
            display: none;
        }

        .back-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 20px;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 1.5rem;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .lessons-grid {
                grid-template-columns: 1fr;
            }

            .container {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div id="app"></div>

    <script>
        const lessons = [
            {
                id: 1,
                title: 'Ø§Ù„ØªØµÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ',
                icon: 'âœ‰ï¸',
                color: '#ef4444',
                duration: '0/2 Ø¯Ø±ÙˆØ³',
                progress: 0,
                content: 'ØªØ¹Ù„Ù… ÙƒÙŠÙ ØªØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ØªØµÙŠØ¯ Ø§Ù„Ø§Ø­ØªÙŠØ§Ù„ÙŠØ© ÙˆØªØ­Ù…ÙŠ Ù†ÙØ³Ùƒ Ù…Ù†Ù‡Ø§.',
                quiz: [
                    {
                        question: 'Ù…Ø§ Ù‡Ùˆ Ø§Ù„ØªØµÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØŸ',
                        options: [
                            'Ø¨Ø±Ù†Ø§Ù…Ø¬ Ù„Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ',
                            'Ù…Ø­Ø§ÙˆÙ„Ø© Ø®Ø¯Ø§Ø¹ Ù„Ø³Ø±Ù‚Ø© Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø´Ø®ØµÙŠØ©',
                            'Ù†ÙˆØ¹ Ù…Ù† Ø§Ù„ÙÙŠØ±ÙˆØ³Ø§Øª',
                            'Ø®Ø¯Ù…Ø© Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ'
                        ],
                        correct: 1
                    },
                    {
                        question: 'ÙƒÙŠÙ ØªØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø¨Ø±ÙŠØ¯ ØªØµÙŠØ¯ØŸ',
                        options: [
                            'Ù…Ù† Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ø±Ø³Ù„ Ø§Ù„Ø±Ø³Ù…ÙŠ',
                            'Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø£Ø®Ø·Ø§Ø¡ Ù„ØºÙˆÙŠØ© ÙˆØ±ÙˆØ§Ø¨Ø· Ù…Ø´Ø¨ÙˆÙ‡Ø©',
                            'Ù…Ù† Ø­Ø¬Ù… Ø§Ù„Ø±Ø³Ø§Ù„Ø©',
                            'Ù…Ù† ÙˆÙ‚Øª Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©'
                        ],
                        correct: 1
                    }
                ]
            },
            {
                id: 2,
                title: 'Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª',
                icon: 'ğŸ”’',
                color: '#3b82f6',
                duration: '0/2 Ø¯Ø±ÙˆØ³',
                progress: 0,
                content: 'Ø§ÙƒØªØ´Ù Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø§Øª Ù„Ø¥Ù†Ø´Ø§Ø¡ ÙƒÙ„Ù…Ø§Øª Ù…Ø±ÙˆØ± Ù‚ÙˆÙŠØ© ÙˆØ­Ù…Ø§ÙŠØ© Ø­Ø³Ø§Ø¨Ø§ØªÙƒ.',
                quiz: [
                    {
                        question: 'Ù…Ø§ Ù‡ÙŠ Ø£ÙØ¶Ù„ Ø·Ø±ÙŠÙ‚Ø© Ù„Ø¥Ù†Ø´Ø§Ø¡ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ù‚ÙˆÙŠØ©ØŸ',
                        options: [
                            'Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ø³Ù…Ùƒ ÙˆØªØ§Ø±ÙŠØ® Ù…ÙŠÙ„Ø§Ø¯Ùƒ',
                            'Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± ÙˆØ§Ø­Ø¯Ø© Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª',
                            'Ù…Ø²ÙŠØ¬ Ù…Ù† Ø£Ø­Ø±Ù ÙƒØ¨ÙŠØ±Ø© ÙˆØµØºÙŠØ±Ø© ÙˆØ£Ø±Ù‚Ø§Ù… ÙˆØ±Ù…ÙˆØ²',
                            'Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙƒÙ„Ù…Ø© Ù…Ù† Ø§Ù„Ù‚Ø§Ù…ÙˆØ³'
                        ],
                        correct: 2
                    },
                    {
                        question: 'Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© Ø§Ù„Ø«Ù†Ø§Ø¦ÙŠØ©ØŸ',
                        options: [
                            'Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙƒÙ„Ù…ØªÙŠ Ù…Ø±ÙˆØ±',
                            'Ø·Ø¨Ù‚Ø© Ø£Ù…Ø§Ù† Ø¥Ø¶Ø§ÙÙŠØ© ØªØªØ·Ù„Ø¨ Ø±Ù…Ø² ØªØ­Ù‚Ù‚',
                            'Ù†ÙˆØ¹ Ù…Ù† Ø§Ù„ÙÙŠØ±ÙˆØ³Ø§Øª',
                            'Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø­Ù…Ø§ÙŠØ©'
                        ],
                        correct: 1
                    }
                ]
            },
            {
                id: 3,
                title: 'Ø§Ù„Ø®ØµÙˆØµÙŠØ©',
                icon: 'ğŸ‘ï¸',
                color: '#9333ea',
                duration: '0/1 Ø¯Ø±ÙˆØ³',
                progress: 0,
                content: 'ØªØ¹Ø±Ù Ø¹Ù„Ù‰ ÙƒÙŠÙÙŠØ© Ø­Ù…Ø§ÙŠØ© Ø®ØµÙˆØµÙŠØªÙƒ Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª ÙˆÙˆØ³Ø§Ø¦Ù„ Ø§Ù„ØªÙˆØ§ØµÙ„.',
                quiz: [
                    {
                        question: 'Ù…Ø§ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙŠ ÙŠØ¬Ø¨ Ø£Ù„Ø§ ØªØ´Ø§Ø±ÙƒÙ‡Ø§ Ø¹Ù„Ù†Ø§Ù‹ØŸ',
                        options: [
                            'Ù‡ÙˆØ§ÙŠØ§ØªÙƒ Ø§Ù„Ù…ÙØ¶Ù„Ø©',
                            'Ø¹Ù†ÙˆØ§Ù† Ù…Ù†Ø²Ù„Ùƒ ÙˆØ±Ù‚Ù… Ù‡Ø§ØªÙÙƒ',
                            'Ø£ÙÙ„Ø§Ù…Ùƒ Ø§Ù„Ù…ÙØ¶Ù„Ø©',
                            'Ø¢Ø±Ø§Ø¦Ùƒ Ø§Ù„Ø¹Ø§Ù…Ø©'
                        ],
                        correct: 1
                    }
                ]
            },
            {
                id: 4,
                title: 'Ø§Ù„Ø§Ø­ØªÙŠØ§Ù„',
                icon: 'âš ï¸',
                color: '#f59e0b',
                duration: '0/1 Ø¯Ø±ÙˆØ³',
                progress: 0,
                content: 'ØªØ¹Ù„Ù… ÙƒÙŠÙ ØªÙƒØªØ´Ù Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø§Ù„Ø§Ø­ØªÙŠØ§Ù„ ÙˆØ§Ù„Ù†ØµØ¨ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ.',
                quiz: [
                    {
                        question: 'Ù…Ø§ Ù‡ÙŠ Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„Ø§Ø­ØªÙŠØ§Ù„ Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©ØŸ',
                        options: [
                            'Ø·Ù„Ø¨ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø´Ø®ØµÙŠØ© Ø¨Ø´ÙƒÙ„ Ø¹Ø§Ø¬Ù„',
                            'ÙˆØ¹ÙˆØ¯ Ø¨Ø£Ø±Ø¨Ø§Ø­ Ø³Ø±ÙŠØ¹Ø© ÙˆØ³Ù‡Ù„Ø©',
                            'Ø±ÙˆØ§Ø¨Ø· Ù…Ø´Ø¨ÙˆÙ‡Ø© ÙˆØ£Ø®Ø·Ø§Ø¡ Ù„ØºÙˆÙŠØ©',
                            'ÙƒÙ„ Ù…Ø§ Ø³Ø¨Ù‚'
                        ],
                        correct: 3
                    }
                ]
            },
            {
                id: 5,
                title: 'Ø£Ù…Ø§Ù† Ø§Ù„Ø£Ø·ÙØ§Ù„',
                icon: 'ğŸ‘¶',
                color: '#22c55e',
                duration: '0/1 Ø¯Ø±ÙˆØ³',
                progress: 0,
                content: 'Ù†ØµØ§Ø¦Ø­ Ù„Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø£Ø·ÙØ§Ù„ Ø£Ø«Ù†Ø§Ø¡ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª.',
                quiz: [
                    {
                        question: 'Ù…Ø§ Ù‡Ùˆ Ø¯ÙˆØ± Ø§Ù„Ø£Ù‡Ù„ ÙÙŠ Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø£Ø·ÙØ§Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ù†ØªØ±Ù†ØªØŸ',
                        options: [
                            'Ù…Ù†Ø¹ Ø§Ù„Ø£Ø·ÙØ§Ù„ Ù…Ù† Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª ØªÙ…Ø§Ù…Ø§Ù‹',
                            'Ø§Ù„ØªÙˆØ¹ÙŠØ© ÙˆØ§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© ÙˆØ§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø±Ù‚Ø§Ø¨Ø© Ø§Ù„Ø£Ø¨ÙˆÙŠØ©',
                            'Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø­Ø±ÙŠØ© ÙƒØ§Ù…Ù„Ø© Ø¯ÙˆÙ† Ù‚ÙŠÙˆØ¯',
                            'Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª Ø¨Ø¯Ù„Ø§Ù‹ Ø¹Ù†Ù‡Ù…'
                        ],
                        correct: 1
                    }
                ]
            }
        ];

        const state = {
            currentScreen: 'welcome',
            currentLesson: null,
            userProgress: {},
            completedLessons: 0,
            consecutiveDays: 0,
            totalPoints: 0,
            elderMode: false,
            language: 'ar',
            quizAnswers: [],
            showingResults: false
        };

        function render() {
            const app = document.getElementById('app');
            
            if (state.currentScreen === 'welcome') {
                app.innerHTML = renderWelcome();
            } else if (state.currentScreen === 'home') {
                app.innerHTML = renderHome();
            } else if (state.currentScreen === 'lessons') {
                app.innerHTML = renderLessons();
            } else if (state.currentScreen === 'lesson-detail') {
                app.innerHTML = renderLessonDetail();
            } else if (state.currentScreen === 'tools') {
                app.innerHTML = renderTools();
            } else if (state.currentScreen === 'reporting') {
                app.innerHTML = renderReporting();
            } else if (state.currentScreen === 'settings') {
                app.innerHTML = renderSettings();
            }

            attachEventListeners();
        }

        function renderWelcome() {
            return `
                <div class="welcome-screen">
                    <div class="logo">
                        <svg viewBox="0 0 24 24">
                            <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"/>
                        </svg>
                    </div>
                    <h1>Ø³Ù„Ø§Ù…ØªÙƒ Ø§Ù„Ø±Ù‚Ù…ÙŠØ© ÙÙŠ Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª</h1>
                    <p class="subtitle">ØªØ¹Ù„Ù… ÙƒÙŠÙ ØªØ­Ù…ÙŠ Ù†ÙØ³Ùƒ ÙˆØ¹Ø§Ø¦Ù„ØªÙƒ ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù… Ø§Ù„Ø±Ù‚Ù…ÙŠ</p>
                    
                    <div class="features-list">
                        <div class="feature-item">
                            <span>Ø¯Ø±ÙˆØ³ Ù‚ØµÙŠØ±Ø© ÙˆÙ…Ø¨Ø³Ø·Ø©</span>
                            <div class="feature-dot" style="background: #10b981;"></div>
                        </div>
                        <div class="feature-item">
                            <span>Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª ØªÙØ§Ø¹Ù„ÙŠØ©</span>
                            <div class="feature-dot" style="background: #667eea;"></div>
                        </div>
                        <div class="feature-item">
                            <span>Ø£Ø¯ÙˆØ§Øª Ø¹Ù…Ù„ÙŠØ©</span>
                            <div class="feature-dot" style="background: #9333ea;"></div>
                        </div>
                        <div class="feature-item">
                            <span>Ø£Ù…Ø«Ù„Ø© Ù…Ù† ÙˆØ§Ù‚Ø¹ Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª</span>
                            <div class="feature-dot" style="background: #f59e0b;"></div>
                        </div>
                    </div>
                    
                    <button class="start-btn" onclick="startApp()">
                        Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù†
                        <span>â†</span>
                    </button>
                </div>
            `;
        }

        function renderHome() {
            return `
                <div class="header">
                    <div class="logo">
                        <svg viewBox="0 0 24 24">
                            <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"/>
                        </svg>
                    </div>
                    <h1>Ø³Ù„Ø§Ù…ØªÙƒ Ø§Ù„Ø±Ù‚Ù…ÙŠØ©</h1>
                    <p class="subtitle">Ø­Ù…Ø§ÙŠØ© Ø±Ù‚Ù…ÙŠØ© Ù„Ù„Ø¬Ù…ÙŠØ¹</p>
                </div>

                <div class="container">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-info">
                                <div class="stat-number">${state.completedLessons}</div>
                                <div class="stat-label">Ø¯Ø±Ø³ Ù…ÙƒØªÙ…Ù„</div>
                            </div>
                            <div class="stat-icon" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                                <svg width="35" height="35" viewBox="0 0 24 24" fill="white">
                                    <path d="M12 3L1 9l11 6 9-4.91V17h2V9M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82z"/>
                                </svg>
                            </div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-info">
                                <div class="stat-number">${state.consecutiveDays}</div>
                                <div class="stat-label">Ø£ÙŠØ§Ù… Ù…ØªØªØ§Ù„ÙŠØ©</div>
                            </div>
                            <div class="stat-icon" style="background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);">
                                <svg width="35" height="35" viewBox="0 0 24 24" fill="white">
                                    <path d="M13.5 0.67s.74 2.65.74 4.8c0 2.06-1.35 3.73-3.41 3.73-2.07 0-3.63-1.67-3.63-3.73l.03-.36C5.21 7.51 4 10.62 4 14c0 4.42 3.58 8 8 8s8-3.58 8-8C20 8.61 17.41 3.8 13.5.67zM11.71 19c-1.78 0-3.22-1.4-3.22-3.14 0-1.62 1.05-2.76 2.81-3.12 1.77-.36 3.6-1.21 4.62-2.58.39 1.29.59 2.65.59 4.04 0 2.65-2.15 4.8-4.8 4.8z"/>
                                </svg>
                            </div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-info">
                                <div class="stat-number">${state.totalPoints}</div>
                                <div class="stat-label">Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ù†Ù‚Ø§Ø·</div>
                            </div>
                            <div class="stat-icon" style="background: linear-gradient(135deg, #ec4899 0%, #be185d 100%);">
                                <svg width="35" height="35" viewBox="0 0 24 24" fill="white">
                                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                </svg>
                            </div>
                        </div>
                    </div>

                    <div class="tip-card">
                        <div class="tip-icon">
                            <svg width="30" height="30" viewBox="0 0 24 24" fill="white">
                                <path d="M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7zm2.85 11.1l-.85.6V16h-4v-2.3l-.85-.6C7.8 12.16 7 10.63 7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 1.63-.8 3.16-2.15 4.1z"/>
                            </svg>
                        </div>
                        <div class="tip-content">
                            <h3>Ù†ØµÙŠØ­Ø© Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹</h3>
                            <p>Ù„Ø§ ØªØ´Ø§Ø±Ùƒ Ø±Ù…Ø² OTP Ù…Ø¹ Ø£ÙŠ Ø´Ø®Øµ Ø­ØªÙ‰ Ù„Ùˆ Ø§Ø¯Ø¹Ù‰ Ø£Ù†Ù‡ Ù…Ù† Ø§Ù„Ø¨Ù†Ùƒ</p>
                        </div>
                    </div>

                    <div class="lessons-section">
                        <div class="section-header">
                            <button class="view-all-btn" onclick="navigateTo('lessons')">
                                Ø¹Ø±Ø¶ Ø§Ù„ÙƒÙ„
                                <span>â†</span>
                            </button>
                            <h2 class="section-title">Ø£ÙƒÙ…Ù„ Ø§Ù„Ø¯Ø±Ø³</h2>
                        </div>
                        <div class="lessons-grid">
                            ${lessons.slice(0, 2).map(lesson => renderLessonCard(lesson)).join('')}
                        </div>
                    </div>
                </div>

                ${renderBottomNav('home')}
            `;
        }

        function renderLessons() {
            return `
                <div class="header">
                    <div class="logo">
                        <svg viewBox="0 0 24 24">
                            <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"/>
                        </svg>
                    </div>
                    <h1>Ø§Ù„Ø¯Ø±ÙˆØ³</h1>
                </div>

                <div class="container">
                    <div class="lessons-grid">
                        ${lessons.map(lesson => renderLessonCard(lesson)).join('')}
                    </div>
                </div>

                ${renderBottomNav('lessons')}
            `;
        }

        function renderLessonCard(lesson) {
            const progress = state.userProgress[lesson.id] || 0;
            return `
                <div class="lesson-card" onclick="openLesson(${lesson.id})">
                    <div class="lesson-header">
                        <div class="lesson-info">
                            <div class="lesson-title">${lesson.title}</div>
                            <div class="lesson-duration">${lesson.duration}</div>
                        </div>
                        <div class="lesson-icon" style="background: ${lesson.color};">
                            <span style="font-size: 30px;">${lesson.icon}</span>
                        </div>
                    </div>
                    <div class="lesson-progress">
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${progress}%;"></div>
                        </div>
                        <div class="progress-text">
                            <span>${progress}%</span>
                            <span>Ø§Ù„ØªÙ‚Ø¯Ù…</span>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderLessonDetail() {
            const lesson = lessons.find(l => l.id === state.currentLesson);
            if (!lesson) return '';

            if (state.showingResults) {
                const correctAnswers = state.quizAnswers.filter((a, i) => a === lesson.quiz[i].correct).length;
                const percentage = Math.round((correctAnswers / lesson.quiz.length) * 100);
                
                return `
                    <div class="header">
                        <button class="back-btn" onclick="closeLesson()">
                            â†’ Ø±Ø¬ÙˆØ¹
                        </button>
                        <h1>Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</h1>
                    </div>

                    <div class="container">
                        <div class="result-card">
                            <h2>Ø£Ø­Ø³Ù†Øª!</h2>
                            <div class="result-score">${percentage}%</div>
                            <p class="result-message">
                                Ø£Ø¬Ø¨Øª Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­ Ø¹Ù„Ù‰ ${correctAnswers} Ù…Ù† ${lesson.quiz.length} Ø£Ø³Ø¦Ù„Ø©
                            </p>
                            <button class="start-btn" onclick="completeLesson()">
                                Ù…ØªØ§Ø¨Ø¹Ø©
                            </button>
                        </div>
                    </div>
                `;
            }

            return `
                <div class="header">
                    <button class="back-btn" onclick="closeLesson()">
                        â†’ Ø±Ø¬ÙˆØ¹
                    </button>
                    <div class="lesson-icon" style="background: ${lesson.color}; width: 80px; height: 80px; margin: 20px auto;">
                        <span style="font-size: 40px;">${lesson.icon}</span>
                    </div>
                    <h1>${lesson.title}</h1>
                </div>

                <div class="container">
                    <div class="quiz-container">
                        <p style="margin-bottom: 30px; text-align: right; font-size: 1.1rem; color: var(--text-secondary);">
                            ${lesson.content}
                        </p>

                        ${lesson.quiz.map((q, i) => `
                            <div class="question-card">
                                <div class="question-text">
                                    ${i + 1}. ${q.question}
                                </div>
                                ${q.options.map((opt, oi) => `
                                    <div class="answer-option ${state.quizAnswers[i] === oi ? 'selected' : ''}" 
                                         onclick="selectAnswer(${i}, ${oi})">
                                        ${opt}
                                    </div>
                                `).join('')}
                            </div>
                        `).join('')}

                        <button class="submit-btn" 
                                onclick="submitQuiz()"
                                ${state.quizAnswers.length !== lesson.quiz.length ? 'disabled' : ''}>
                            Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª
                        </button>
                    </div>
                </div>
            `;
        }

        function renderTools() {
            return `
                <div class="header">
                    <div class="logo">
                        <svg viewBox="0 0 24 24">
                            <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"/>
                        </svg>
                    </div>
                    <h1>Ø£Ø¯ÙˆØ§Øª Ù…Ø±ÙŠØ­Ø©</h1>
                </div>

                <div class="container">
                    <div class="tools-grid">
                        <div class="tool-card">
                            <div class="tool-header">
                                <div class="tool-title">Ù‚Ø§Ø¦Ù…Ø© ÙØ­Øµ Ø§Ù„Ø£Ù…Ø§Ù†</div>
                                <div class="tool-icon" style="background: #3b82f6;">
                                    <svg width="28" height="28" viewBox="0 0 24 24" fill="white">
                                        <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
                                    </svg>
                                </div>
                            </div>
                            <p class="tool-description">
                                ØªØ­Ù‚Ù‚ Ù…Ù† Ù…Ø³ØªÙˆÙ‰ Ø£Ù…Ø§Ù† Ø­Ø³Ø§Ø¨Ø§ØªÙƒ ÙˆØ£Ø¬Ù‡Ø²ØªÙƒ Ù…Ø¹ Ù‚Ø§Ø¦Ù…Ø© Ø´Ø§Ù…Ù„Ø©
                            </p>
                        </div>

                        <div class="tool-card">
                            <div class="tool-header">
                                <div class="tool-title">ÙƒÙŠÙ ØªÙØ­Øµ Ø§Ù„Ø±Ø§Ø¨Ø·</div>
                                <div class="tool-icon" style="background: #10b981;">
                                    <svg width="28" height="28" viewBox="0 0 24 24" fill="white">
                                        <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>
                                    </svg>
                                </div>
                            </div>
                            <p class="tool-description">
                                ØªØ¹Ù„Ù… ÙƒÙŠÙ ØªØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ù…Ø´Ø¨ÙˆÙ‡Ø© Ù‚Ø¨Ù„ Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„ÙŠÙ‡Ø§
                            </p>
                        </div>

                        <div class="tool-card">
                            <div class="tool-header">
                                <div class="tool-title">Ù…Ø§Ø°Ø§ ØªÙØ¹Ù„ Ø¥Ø°Ø§ Ø§Ù†Ø®Ø¯Ø¹Øª</div>
                                <div class="tool-icon" style="background: #ef4444;">
                                    <svg width="28" height="28" viewBox="0 0 24 24" fill="white">
                                        <path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/>
                                    </svg>
                                </div>
                            </div>
                            <p class="tool-description">
                                Ø®Ø·ÙˆØ§Øª Ø¹Ù…Ù„ÙŠØ© ÙŠØ¬Ø¨ Ø§ØªØ®Ø§Ø°Ù‡Ø§ ÙÙˆØ±Ø§Ù‹ Ø¥Ø°Ø§ ØªØ¹Ø±Ø¶Øª Ù„Ù„Ø§Ø­ØªÙŠØ§Ù„
                            </p>
                        </div>

                        <div class="tool-card">
                            <div class="tool-header">
                                <div class="tool-title">Ù…Ù†Ø´Ø¦ ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ±</div>
                                <div class="tool-icon" style="background: #9333ea;">
                                    <svg width="28" height="28" viewBox="0 0 24 24" fill="white">
                                        <path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"/>
                                    </svg>
                                </div>
                            </div>
                            <p class="tool-description">
                                Ø£Ù†Ø´Ø¦ ÙƒÙ„Ù…Ø§Øª Ù…Ø±ÙˆØ± Ù‚ÙˆÙŠØ© ÙˆØ¢Ù…Ù†Ø© Ø¨Ù†Ù‚Ø±Ø© ÙˆØ§Ø­Ø¯Ø©
                            </p>
                        </div>
                    </div>
                </div>

                ${renderBottomNav('tools')}
            `;
        }

        function renderReporting() {
            return `
                <div class="header">
                    <div class="logo">
                        <svg viewBox="0 0 24 24">
                            <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"/>
                        </svg>
                    </div>
                    <h1>Ø¬Ù‡Ø§Øª Ø§Ù„Ø¥Ø¨Ù„Ø§Øº</h1>
                    <p class="subtitle">Ø§Ù„Ø¬Ù‡Ø§Øª Ø§Ù„Ø±Ø³Ù…ÙŠØ© Ù„Ù„ØªØ¨Ù„ÙŠØº Ø¹Ù† Ø§Ù„Ø¬Ø±Ø§Ø¦Ù… Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©</p>
                </div>

                <div class="container">
                    <div class="reporting-section">
                        <div class="authority-card">
                            <div class="authority-name">ğŸ‡¦ğŸ‡ª Ø´Ø±Ø·Ø© Ø£Ø¨ÙˆØ¸Ø¨ÙŠ - Ù…Ø±ÙƒØ² Ù…ÙƒØ§ÙØ­Ø© Ø§Ù„Ø¬Ø±Ø§Ø¦Ù… Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©</div>
                            <div class="contact-info">
                                <a href="tel:8002626" class="contact-item">
                                    <span>ğŸ“ 8002626</span>
                                </a>
                                <a href="https://www.adpolice.gov.ae" class="contact-item">
                                    <span>ğŸŒ www.adpolice.gov.ae</span>
                                </a>
                            </div>
                        </div>

                        <div class="authority-card">
                            <div class="authority-name">ğŸ‡¦ğŸ‡ª Ø´Ø±Ø·Ø© Ø¯Ø¨ÙŠ - Ø¥Ø¯Ø§Ø±Ø© Ù…ÙƒØ§ÙØ­Ø© Ø§Ù„Ø¬Ø±Ø§Ø¦Ù… Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©</div>
                            <div class="contact-info">
                                <a href="tel:901" class="contact-item">
                                    <span>ğŸ“ 901</span>
                                </a>
                                <a href="https://www.dubaipolice.gov.ae" class="contact-item">
                                    <span>ğŸŒ www.dubaipolice.gov.ae</span>
                                </a>
                            </div>
                        </div>

                        <div class="authority-card">
                            <div class="authority-name">ğŸ‡¦ğŸ‡ª Ø§Ù„Ù†ÙŠØ§Ø¨Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ø§Ù„Ø§ØªØ­Ø§Ø¯ÙŠØ©</div>
                            <div class="contact-info">
                                <a href="tel:80020" class="contact-item">
                                    <span>ğŸ“ 80020</span>
                                </a>
                                <a href="https://www.pp.gov.ae" class="contact-item">
                                    <span>ğŸŒ www.pp.gov.ae</span>
                                </a>
                            </div>
                        </div>

                        <div class="authority-card">
                            <div class="authority-name">ğŸ‡¦ğŸ‡ª Ø§Ù„Ù‡ÙŠØ¦Ø© Ø§Ù„ÙˆØ·Ù†ÙŠØ© Ù„Ù„Ø£Ù…Ù† Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</div>
                            <div class="contact-info">
                                <a href="mailto:cert@tra.gov.ae" class="contact-item">
                                    <span>âœ‰ï¸ cert@tra.gov.ae</span>
                                </a>
                                <a href="https://www.tra.gov.ae" class="contact-item">
                                    <span>ğŸŒ www.tra.gov.ae</span>
                                </a>
                            </div>
                        </div>

                        <div class="authority-card">
                            <div class="authority-name">ğŸ‡¦ğŸ‡ª Ù…ØµØ±Ù Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø±ÙƒØ²ÙŠ (Ù„Ù„Ø§Ø­ØªÙŠØ§Ù„ Ø§Ù„Ù…ØµØ±ÙÙŠ)</div>
                            <div class="contact-info">
                                <a href="tel:80023233" class="contact-item">
                                    <span>ğŸ“ 80023233</span>
                                </a>
                                <a href="https://www.centralbank.ae" class="contact-item">
                                    <span>ğŸŒ www.centralbank.ae</span>
                                </a>
                            </div>
                        </div>
                    </div>

                    <div class="tip-card" style="margin-top: 20px;">
                        <div class="tip-icon" style="background: #ef4444;">
                            <svg width="30" height="30" viewBox="0 0 24 24" fill="white">
                                <path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/>
                            </svg>
                        </div>
                        <div class="tip-content">
                            <h3>Ù†ØµÙŠØ­Ø© Ù…Ù‡Ù…Ø©</h3>
                            <p>ÙÙŠ Ø­Ø§Ù„Ø© Ø§Ù„Ø·ÙˆØ§Ø±Ø¦ØŒ Ø§ØªØµÙ„ Ø¨Ø´Ø±Ø·Ø© Ø¯Ø¨ÙŠ Ø¹Ù„Ù‰ 999 Ø£Ùˆ Ø´Ø±Ø·Ø© Ø£Ø¨ÙˆØ¸Ø¨ÙŠ Ø¹Ù„Ù‰ 999</p>
                        </div>
                    </div>
                </div>

                ${renderBottomNav('reporting')}
            `;
        }

        function renderSettings() {
            return `
                <div class="header">
                    <div class="logo">
                        <svg viewBox="0 0 24 24">
                            <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"/>
                        </svg>
                    </div>
                    <h1>Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h1>
                </div>

                <div class="container">
                    <div class="settings-card">
                        <div class="setting-item">
                            <div class="toggle-switch ${state.elderMode ? 'active' : ''}" onclick="toggleElderMode()"></div>
                            <div style="text-align: right;">
                                <div style="font-weight: 600; margin-bottom: 5px;">ÙˆØ¶Ø¹ ÙƒØ¨Ø§Ø± Ø§Ù„Ø³Ù†</div>
                                <div style="color: var(--text-secondary); font-size: 0.9rem;">Ø®Ø· Ø£ÙƒØ¨Ø± ÙˆÙˆØ§Ø¬Ù‡Ø© Ù…Ø¨Ø³Ø·Ø©</div>
                            </div>
                        </div>

                        <div class="setting-item">
                            <div style="color: var(--text-secondary);">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</div>
                            <div style="text-align: right;">
                                <div style="font-weight: 600; margin-bottom: 5px;">Ø§Ù„Ù„ØºØ©</div>
                                <div style="color: var(--text-secondary); font-size: 0.9rem;">ØªØºÙŠÙŠØ± Ù„ØºØ© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</div>
                            </div>
                        </div>

                        <div class="setting-item">
                            <div class="toggle-switch active"></div>
                            <div style="text-align: right;">
                                <div style="font-weight: 600; margin-bottom: 5px;">Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„ÙŠÙˆÙ…ÙŠØ©</div>
                                <div style="color: var(--text-secondary); font-size: 0.9rem;">ØªØ°ÙƒÙŠØ± ÙŠÙˆÙ…ÙŠ Ø¨Ø¯Ø±Ø³ Ø¬Ø¯ÙŠØ¯</div>
                            </div>
                        </div>

                        <div class="setting-item">
                            <button style="background: none; border: none; color: #ef4444; cursor: pointer; font-size: 1rem;">
                                Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªÙ‚Ø¯Ù…
                            </button>
                            <div style="text-align: right;">
                                <div style="font-weight: 600; margin-bottom: 5px;">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¨Ø¯Ø¡</div>
                                <div style="color: var(--text-secondary); font-size: 0.9rem;">Ù…Ø³Ø­ ÙƒÙ„ Ø§Ù„ØªÙ‚Ø¯Ù… ÙˆØ§Ù„Ø¨Ø¯Ø¡ Ù…Ù† Ø¬Ø¯ÙŠØ¯</div>
                            </div>
                        </div>
                    </div>

                    <div class="settings-card" style="margin-top: 20px;">
                        <div style="text-align: center; padding: 20px;">
                            <h3 style="margin-bottom: 10px;">Ø³Ù„Ø§Ù…ØªÙƒ Ø§Ù„Ø±Ù‚Ù…ÙŠØ© ÙÙŠ Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª</h3>
                            <p style="color: var(--text-secondary); margin-bottom: 15px;">Ø§Ù„Ø¥ØµØ¯Ø§Ø± 1.0.0</p>
                            <p style="color: var(--text-secondary); font-size: 0.9rem;">
                                ØªØ·Ø¨ÙŠÙ‚ ØªÙˆØ¹ÙˆÙŠ Ù„Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ù…ÙˆØ§Ø·Ù†ÙŠÙ† ÙˆØ§Ù„Ù…Ù‚ÙŠÙ…ÙŠÙ† ÙÙŠ Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª Ù…Ù† Ø§Ù„Ù…Ø®Ø§Ø·Ø± Ø§Ù„Ø±Ù‚Ù…ÙŠØ©
                            </p>
                        </div>
                    </div>
                </div>

                ${renderBottomNav('settings')}
            `;
        }

        function renderBottomNav(active) {
            const items = [
                { id: 'home', label: 'Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©', icon: 'M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z' },
                { id: 'lessons', label: 'Ø§Ù„Ø¯Ø±ÙˆØ³', icon: 'M12 3L1 9l11 6 9-4.91V17h2V9M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82z' },
                { id: 'tools', label: 'Ø£Ø¯ÙˆØ§Øª Ù…Ø±ÙŠØ­Ø©', icon: 'M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z' },
                { id: 'reporting', label: 'Ø¬Ù‡Ø§Øª Ø§Ù„Ø¥Ø¨Ù„Ø§Øº', icon: 'M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 9h-2V5h2v6zm0 4h-2v-2h2v2z' },
                { id: 'settings', label: 'Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª', icon: 'M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.07.62-.07.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z' }
            ];

            return `
                <div class="bottom-nav">
                    <div class="nav-container">
                        ${items.map(item => `
                            <button class="nav-item ${active === item.id ? 'active' : ''}" onclick="navigateTo('${item.id}')">
                                <svg class="nav-icon" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="${item.icon}"/>
                                </svg>
                                <span class="nav-label">${item.label}</span>
                            </button>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        function startApp() {
            state.currentScreen = 'home';
            render();
        }

        function navigateTo(screen) {
            state.currentScreen = screen;
            state.showingResults = false;
            render();
        }

        function openLesson(lessonId) {
            state.currentLesson = lessonId;
            state.currentScreen = 'lesson-detail';
            state.quizAnswers = [];
            state.showingResults = false;
            render();
        }

        function closeLesson() {
            state.currentScreen = 'lessons';
            state.currentLesson = null;
            state.quizAnswers = [];
            state.showingResults = false;
            render();
        }

        function selectAnswer(questionIndex, optionIndex) {
            state.quizAnswers[questionIndex] = optionIndex;
            render();
        }

        function submitQuiz() {
            const lesson = lessons.find(l => l.id === state.currentLesson);
            const correctAnswers = state.quizAnswers.filter((a, i) => a === lesson.quiz[i].correct).length;
            const percentage = Math.round((correctAnswers / lesson.quiz.length) * 100);
            
            state.userProgress[lesson.id] = percentage;
            state.totalPoints += correctAnswers * 10;
            
            if (percentage === 100 && !state.userProgress[lesson.id + '_completed']) {
                state.completedLessons++;
                state.userProgress[lesson.id + '_completed'] = true;
            }
            
            state.showingResults = true;
            render();
        }

        function completeLesson() {
            state.currentScreen = 'lessons';
            state.currentLesson = null;
            state.quizAnswers = [];
            state.showingResults = false;
            render();
        }

        function toggleElderMode() {
            state.elderMode = !state.elderMode;
            if (state.elderMode) {
                document.body.style.fontSize = '120%';
            } else {
                document.body.style.fontSize = '100%';
            }
            render();
        }

        function attachEventListeners() {
            // Event listeners are attached via onclick in HTML
        }

        // Initialize app
        render();
    </script>
</body>
</html>
